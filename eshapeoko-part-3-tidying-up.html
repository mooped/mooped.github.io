<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>eShapeOko Part 3 - Tidying up</title>
        <link rel="stylesheet" href="https://www.moop.org.uk/theme/css/main.css" />
        <link href="https://www.moop.org.uk/index.php/feed" type="application/atom+xml" rel="alternate" title="Mooplog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://www.moop.org.uk/">Mooplog </a></h1>
                <nav><ul>
                    <li><a href="https://www.moop.org.uk/category/arcade-controllers-things.html">Arcade Controllers, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/foobot-games.html">Foobot, Games</a></li>
                    <li><a href="https://www.moop.org.uk/category/games-loot-of-the-forest-ludum-dare.html">Games, Loot of the Forest, Ludum Dare</a></li>
                    <li><a href="https://www.moop.org.uk/category/hi-fly-maiden-flights-things.html">Hi-Fly, Maiden Flights, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/hi-fly-things.html">Hi-Fly, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/hot-wire-things.html">Hot Wire, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/maiden-flights-things-tricopter.html">Maiden Flights, Things, TriCopter</a></li>
                    <li><a href="https://www.moop.org.uk/category/misc.html">misc</a></li>
                    <li><a href="https://www.moop.org.uk/category/pcb-drilling-jig-things.html">PCB Drilling Jig, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/rc2014-retrochallenge.html">RC2014, Retrochallenge</a></li>
                    <li><a href="https://www.moop.org.uk/category/rc2014-things.html">RC2014, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/shapeoko-speed-twin-things.html">ShapeOko, Speed Twin, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/shapeoko-speed-twin-things-unholy-chalupa.html">ShapeOko, Speed Twin, Things, Unholy Chalupa</a></li>
                    <li class="active"><a href="https://www.moop.org.uk/category/shapeoko-things.html">ShapeOko, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/speed-twin-things.html">Speed Twin, Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/things.html">Things</a></li>
                    <li><a href="https://www.moop.org.uk/category/things-unholy-chalupa.html">Things, Unholy Chalupa</a></li>
                    <li><a href="https://www.moop.org.uk/category/uncategorized.html">Uncategorized</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://www.moop.org.uk/eshapeoko-part-3-tidying-up.html" rel="bookmark"
           title="Permalink to eShapeOko Part 3 - Tidying up">eShapeOko Part 3 - Tidying up</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-13T22:53:00+01:00">
                Published: Sat 13 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://www.moop.org.uk/author/moop.html">moop</a>
        </address>
<p>In <a href="https://www.moop.org.uk/category/shapeoko-things.html">ShapeOko, Things</a>.</p>

</footer><!-- /.post-info -->      <p>Having had the ShapeOko for over a year now I've used it for quite a few
projects, but nowhere near as many as I intended. Part of the reason for
this is that the controller for the machine was still rather jury rigged
so setting it up was a hassle. To solve this problem I've been working
on integrating together a permanent version of the controller.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140913_201752/"><img alt="Finished Product" class="alignnone size-full wp-image-752" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140913_201752.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>I started by designing a pair of custom PCBs with a bus to connect them
together while allowing for expansion. The first board is essentially an
Arduino with custom pin out. The second board mounts the stepper
controllers. At some point I may add a breakout board for limit switches
and a board to interface with a pendant for manually controlling the
machine.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140715_202957/"><img alt="Arduino and Stepper Boards" class="alignnone size-full wp-image-737" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140715_202957.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>Having built the boards, they all work fine, but there are things I'd do
differently if I made another. First off I'd probably stick with a
standard Arduino pinout, both for reusability and because the 24 pin DIL
socket I used turned out to be expensive. Additionally, the layout for
the (single sided) boards would have been much simpler without the DIL
socket to consider.</p>
<div class="section" id="arduino-board-underside-with-horrible-routing-for-the-dil-connector">
<h2><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140608_194934/"><img alt="Arduino board underside with horrible routing for the DIL connector" class="alignnone size-full wp-image-741" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140608_194934.jpg" style="width: 935px; height: 526px;" /></a></h2>
<p>With the boards made I decided on using an FTDI module I had lying
around for USB to serial conversion, replacing the Minimus that I was
using previously. I designed a very simple breakout for this module to
expose the Power, Reset, Ground and Serial Tx/Rx signals in a way that
matches the Arduino's FTDI header. The main benefit of the breakout
board, however, was that I could give it appropriate dimensions for
mounting in a case.</p>
<p>With all of the boards made and (a few months later, once a burst of
motivation turned up) assembled, I needed to build a case to keep the
parts together. I decided to laser cut the case from perspex in order to
get it made quicklyâ€”and because I thought a clear perspex case would
look cool.</p>
<p>Due to my earlier experiences with fried Stepper Controllers I decided
to use locking connectors to prevent accidental disconnection while the
machine was powered up. After some searching I found that 4 pin gx16
aviation connectors seemed to do what I want. I ended up ordering some
from China through Amazon as it was the cheapest source, though thanks
to the seller incorrectly filling in the customs form I paid more than
expected for them. Regardless, they work nicely and look good. I also
used one of these connectors for power, with two pins acting as 12v and
ground and spare pins for signalling. Should I choose to power the
machine from a PC power supply at a later date, one of these lines will
be used for the PSU's power on line.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140913_201732/"><img alt="Locking Connectors" class="alignnone size-full wp-image-755" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140913_201732.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>With the connectors and some switches chosen and measured, I began work
on designing the case. I settled on a fairly simple tabbed box design.
The box is split into two sections to match the two widths of board:
narrow USB to serial breakout and wide Arduino and Stepper Controller
boards. The sides of the box have slots into which various mounting
plates can be bolted. The boards locate into slots in the mounting
plates, allowing for quite flexible arrangement of the boards.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140619_204746/"><img alt="Case Parts" class="alignnone size-full wp-image-738" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140619_204746.jpg" style="width: 935px; height: 526px;" /></a></p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140619_215111/"><img alt="Runners for board mounting" class="alignnone size-full wp-image-735" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140619_215111.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>With the case parts cut, I found it fairly fiddly to assemble, but once
together it was quite sturdy. Some of the wires to the connectors had to
be soldered with parts of the case in place. This makes maintenance
slightly trickier, but will reduce the chance of intermittent
connections to the steppers which could exist if I'd used a second set
of connectors on the board.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140715_224126/"><img alt="Assembling the controller inside the case" class="alignnone size-full wp-image-742" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140715_224126.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>The layout of the connectors and switches was mostly determined by the
shape of the case and the space taken up by the boards. I ended up with
the stepper connectors on the top of the case in the same section as the
USB to serial adapter. The connectors are quite deep, so they required a
lot of space behind their mounting plate.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140913_201703/"><img alt="Stepper connectors" class="alignnone size-full wp-image-754" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140913_201703.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>On one end of the case there is a cutout for the USB to serial board and
a reset switch for the Arduino in the form of a big red button. It's not
exactly an emergency stop button but should have a similar effect.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140913_201740/"><img alt="USB connector and reset switch" class="alignnone size-full wp-image-756" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140913_201740.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>On the other end is an extra gx16 connector for power and a switch that
will act as a power switch if a PC PSU is used. The switch is designed
to connect or disconnect the ATX PS_ON line instead of being directly
in line with the 12 volt input, which would require a sturdier switch.
There is space for mounting a much smaller alternative switch, but I
went with a large toggle in the end.</p>
<p>Each end of the case has a grille and mounting holes for a 45mm fan
should extra cooling be required.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140913_201732/"><img alt="Power switch and connector" class="alignnone size-full wp-image-755" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140913_201732.jpg" style="width: 935px; height: 526px;" /></a></p>
<p>In order to keep the cables for the steppers tidy, I slipped on two
pieces of heat shrink over the paracord sheaths I added. These keep the
ends of the paracord neat at each end of the cable and provide a bit
more bulk so the strain relief in the connectors has something to grip.</p>
<p><a class="reference external" href="http://www.moop.org.uk/index.php/2014/09/13/eshapeoko-part-3-tidying-up/20140913_201752/"><img alt="Finished Product" class="alignnone size-full wp-image-752" src="http://www.moop.org.uk/wp-content/uploads/2014/09/20140913_201752.jpg" style="width: 935px; height: 526px;" /></a></p>
</div>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://www.moop.org.uk/index.php/feed" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>